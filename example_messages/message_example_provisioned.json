{
  "creationDate": 1584629339939,
  "toscaTemplate": {
    "tosca_definitions_version": "tosca_simple_yaml_1_0",
    "topology_template": {
      "node_templates": {
        "compute": {
          "properties": {
            "disk_size": "10000 MB",
            "mem_size": "1000 MB",
            "num_cores": 1,
            "os": "Ubuntu 18.04",
            "user_name": "vm_user"
          },
          "interfaces": {
            "Standard": {
              "create": "dumy.yaml"
            }
          },
          "type": "tosca.nodes.QC.VM.Compute",
          "attributes": {
            "user_key_pair": {
              "protocol": "ssh",
              "keys": {
                "public_key": "c3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFBZ1FDYUVhemZ3c003cEc4MTRnUnpaRktHeUxCcVlzVXlSNEd2SXVBQ3d0dmpQN3hDNGVZMDloVDFHVEx0dER4K1NGdkdEbVhmeTQzWTFJUU9WNTVlRitPbjNQNXk3Ris2K3FTeWtPTVBvaUQ0Q3JpVCswNGdMbUR2OHJSU3g1TytkU1lycjdWNGs3L1VJdWxMYlhEb2p6T3NZYkpjYlZlODRGM0tnTGJTcG4yeDJRPT0gZ2VuZXJhdGVkIHVzZXIgYWNjZWVzIGtleXMK",
                "private_key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlDV3dJQkFBS0JnUUNhRWF6ZndzTTdwRzgxNGdSelpGS0d5TEJxWXNVeVI0R3ZJdUFDd3R2alA3eEM0ZVkwCjloVDFHVEx0dER4K1NGdkdEbVhmeTQzWTFJUU9WNTVlRitPbjNQNXk3Ris2K3FTeWtPTVBvaUQ0Q3JpVCswNGcKTG1EdjhyUlN4NU8rZFNZcnI3VjRrNy9VSXVsTGJYRG9qek9zWWJKY2JWZTg0RjNLZ0xiU3BuMngyUUlEQVFBQgpBbjhyVk0xS0lYekhTWGY5cjVPUTRLWlZRaHhiejJ1bXVIWEF6QTQwdUprZlVNMmlBZWE4L25qbWRpL2NxdFJZCnNBRWZzdXowQkV2Z3IrUjBKREJtUmxIQWRKckJ0Tyt6b3VTVVJVekQzQVBCOGd3VTJIVWNXL1EzeFVZZWQvOWoKV3RDNDVma2hUc1NGN08wK2sxTDY0UnpESWc1YW53N0Z3ZDc5OFpCdVk3Z0JBa0VBem8yM2tCYVpIZ1BiZmx1UgpvbGcvUUxBTlZYeDZTMFIzaUxJWWlEc0lVclk4RjdvbEFDNm12VGxaZ2xpendqWXRPNDlsODllTjJsOFZHZUtNCkdJYnpJUUpCQUw3emlIblNXTGIxYUVTOHNzUWZhclZrMytzRGxNTGhoNTJYOUEwbmNWTjk0bU83T2JCZ0FFUVcKYzdBdkhyNXdqSCtyNWRnSmN6eVlmU3YyZjV1bkg3a0NRUUNOV2R4QnhjVTVEaWk2T3czWnpJeFV4MllJbDJ2VgpjR0JnOG9mcFNvU3luYlZZQTNIb3d3UW1RRVhwOXF2bGYwL0xENklVa2ZHb2ZDTWptSzZJNW1raEFrRUFrUml1CndKcmtqSW5uNUN0YXo0cHI1RkExa2ZnVHB3NEdwZXFjS1E2cW4xM05sQ2psU2k5NHBFUkhQajVmNXlmUXF3YnMKelA5SlVHY3kzaUFka1NJcUNRSkFZc29JUHZZZStjMUZlbkdtWjZFZDl0VjM5QzFNRjhOWGQ5dnFYWmJLazdvZwp2OGZtaGtnRVlVc0ZnbW13NzZiRllOMFNQVkVlbk1INUh1MEQwcnZKUFE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo="
              }
            },
            "public_ip": "3.124.193.148",
            "role": "master",
            "node_type": "t2.micro",
            "root_key_pair": {
              "protocol": "ssh",
              "keys": {
                "public_key": "c3NoLXJzYSBBQUFBQjNOemFDMXljMkVBQUFBREFRQUJBQUFBZ1FDYUVhemZ3c003cEc4MTRnUnpaRktHeUxCcVlzVXlSNEd2SXVBQ3d0dmpQN3hDNGVZMDloVDFHVEx0dER4K1NGdkdEbVhmeTQzWTFJUU9WNTVlRitPbjNQNXk3Ris2K3FTeWtPTVBvaUQ0Q3JpVCswNGdMbUR2OHJSU3g1TytkU1lycjdWNGs3L1VJdWxMYlhEb2p6T3NZYkpjYlZlODRGM0tnTGJTcG4yeDJRPT0gZ2VuZXJhdGVkIHVzZXIgYWNjZWVzIGtleXMK",
                "private_key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlDV3dJQkFBS0JnUUNhRWF6ZndzTTdwRzgxNGdSelpGS0d5TEJxWXNVeVI0R3ZJdUFDd3R2alA3eEM0ZVkwCjloVDFHVEx0dER4K1NGdkdEbVhmeTQzWTFJUU9WNTVlRitPbjNQNXk3Ris2K3FTeWtPTVBvaUQ0Q3JpVCswNGcKTG1EdjhyUlN4NU8rZFNZcnI3VjRrNy9VSXVsTGJYRG9qek9zWWJKY2JWZTg0RjNLZ0xiU3BuMngyUUlEQVFBQgpBbjhyVk0xS0lYekhTWGY5cjVPUTRLWlZRaHhiejJ1bXVIWEF6QTQwdUprZlVNMmlBZWE4L25qbWRpL2NxdFJZCnNBRWZzdXowQkV2Z3IrUjBKREJtUmxIQWRKckJ0Tyt6b3VTVVJVekQzQVBCOGd3VTJIVWNXL1EzeFVZZWQvOWoKV3RDNDVma2hUc1NGN08wK2sxTDY0UnpESWc1YW53N0Z3ZDc5OFpCdVk3Z0JBa0VBem8yM2tCYVpIZ1BiZmx1UgpvbGcvUUxBTlZYeDZTMFIzaUxJWWlEc0lVclk4RjdvbEFDNm12VGxaZ2xpendqWXRPNDlsODllTjJsOFZHZUtNCkdJYnpJUUpCQUw3emlIblNXTGIxYUVTOHNzUWZhclZrMytzRGxNTGhoNTJYOUEwbmNWTjk0bU83T2JCZ0FFUVcKYzdBdkhyNXdqSCtyNWRnSmN6eVlmU3YyZjV1bkg3a0NRUUNOV2R4QnhjVTVEaWk2T3czWnpJeFV4MllJbDJ2VgpjR0JnOG9mcFNvU3luYlZZQTNIb3d3UW1RRVhwOXF2bGYwL0xENklVa2ZHb2ZDTWptSzZJNW1raEFrRUFrUml1CndKcmtqSW5uNUN0YXo0cHI1RkExa2ZnVHB3NEdwZXFjS1E2cW4xM05sQ2psU2k5NHBFUkhQajVmNXlmUXF3YnMKelA5SlVHY3kzaUFka1NJcUNRSkFZc29JUHZZZStjMUZlbkdtWjZFZDl0VjM5QzFNRjhOWGQ5dnFYWmJLazdvZwp2OGZtaGtnRVlVc0ZnbW13NzZiRllOMFNQVkVlbk1INUh1MEQwcnZKUFE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo="
              }
            },
            "host_name": "vm0"
          }
        },
        "compute_1": {
          "properties": {
            "disk_size": "10000 MB",
            "mem_size": "1000 MB",
            "num_cores": 1,
            "os": "Ubuntu 18.04",
            "user_name": "vm_user"
          },
          "interfaces": {
            "Standard": {
              "create": "dumy.yaml"
            }
          },
          "type": "tosca.nodes.QC.VM.Compute",
          "attributes": {
            "user_key_pair": {
              "protocol": "ssh",
              "keys": {
                "public_key": "cHVibGljS2V5LTVhMDU5ZDE3LTQwZDEtNGE4ZC04MDI4LTQzOGEyNTE3MjczMQ==",
                "private_key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlDV3dJQkFBS0JnUUNhRWF6ZndzTTdwRzgxNGdSelpGS0d5TEJxWXNVeVI0R3ZJdUFDd3R2alA3eEM0ZVkwCjloVDFHVEx0dER4K1NGdkdEbVhmeTQzWTFJUU9WNTVlRitPbjNQNXk3Ris2K3FTeWtPTVBvaUQ0Q3JpVCswNGcKTG1EdjhyUlN4NU8rZFNZcnI3VjRrNy9VSXVsTGJYRG9qek9zWWJKY2JWZTg0RjNLZ0xiU3BuMngyUUlEQVFBQgpBbjhyVk0xS0lYekhTWGY5cjVPUTRLWlZRaHhiejJ1bXVIWEF6QTQwdUprZlVNMmlBZWE4L25qbWRpL2NxdFJZCnNBRWZzdXowQkV2Z3IrUjBKREJtUmxIQWRKckJ0Tyt6b3VTVVJVekQzQVBCOGd3VTJIVWNXL1EzeFVZZWQvOWoKV3RDNDVma2hUc1NGN08wK2sxTDY0UnpESWc1YW53N0Z3ZDc5OFpCdVk3Z0JBa0VBem8yM2tCYVpIZ1BiZmx1UgpvbGcvUUxBTlZYeDZTMFIzaUxJWWlEc0lVclk4RjdvbEFDNm12VGxaZ2xpendqWXRPNDlsODllTjJsOFZHZUtNCkdJYnpJUUpCQUw3emlIblNXTGIxYUVTOHNzUWZhclZrMytzRGxNTGhoNTJYOUEwbmNWTjk0bU83T2JCZ0FFUVcKYzdBdkhyNXdqSCtyNWRnSmN6eVlmU3YyZjV1bkg3a0NRUUNOV2R4QnhjVTVEaWk2T3czWnpJeFV4MllJbDJ2VgpjR0JnOG9mcFNvU3luYlZZQTNIb3d3UW1RRVhwOXF2bGYwL0xENklVa2ZHb2ZDTWptSzZJNW1raEFrRUFrUml1CndKcmtqSW5uNUN0YXo0cHI1RkExa2ZnVHB3NEdwZXFjS1E2cW4xM05sQ2psU2k5NHBFUkhQajVmNXlmUXF3YnMKelA5SlVHY3kzaUFka1NJcUNRSkFZc29JUHZZZStjMUZlbkdtWjZFZDl0VjM5QzFNRjhOWGQ5dnFYWmJLazdvZwp2OGZtaGtnRVlVc0ZnbW13NzZiRllOMFNQVkVlbk1INUh1MEQwcnZKUFE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo="
              }
            },
            "public_ip": "18.197.132.48",
            "role": "worker",
            "node_type": "t2.micro",
            "root_key_pair": {
              "protocol": "ssh",
              "keys": {
                "public_key": "cHVibGljS2V5LTVhMDU5ZDE3LTQwZDEtNGE4ZC04MDI4LTQzOGEyNTE3MjczMQ==",
                "private_key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlDV3dJQkFBS0JnUUNhRWF6ZndzTTdwRzgxNGdSelpGS0d5TEJxWXNVeVI0R3ZJdUFDd3R2alA3eEM0ZVkwCjloVDFHVEx0dER4K1NGdkdEbVhmeTQzWTFJUU9WNTVlRitPbjNQNXk3Ris2K3FTeWtPTVBvaUQ0Q3JpVCswNGcKTG1EdjhyUlN4NU8rZFNZcnI3VjRrNy9VSXVsTGJYRG9qek9zWWJKY2JWZTg0RjNLZ0xiU3BuMngyUUlEQVFBQgpBbjhyVk0xS0lYekhTWGY5cjVPUTRLWlZRaHhiejJ1bXVIWEF6QTQwdUprZlVNMmlBZWE4L25qbWRpL2NxdFJZCnNBRWZzdXowQkV2Z3IrUjBKREJtUmxIQWRKckJ0Tyt6b3VTVVJVekQzQVBCOGd3VTJIVWNXL1EzeFVZZWQvOWoKV3RDNDVma2hUc1NGN08wK2sxTDY0UnpESWc1YW53N0Z3ZDc5OFpCdVk3Z0JBa0VBem8yM2tCYVpIZ1BiZmx1UgpvbGcvUUxBTlZYeDZTMFIzaUxJWWlEc0lVclk4RjdvbEFDNm12VGxaZ2xpendqWXRPNDlsODllTjJsOFZHZUtNCkdJYnpJUUpCQUw3emlIblNXTGIxYUVTOHNzUWZhclZrMytzRGxNTGhoNTJYOUEwbmNWTjk0bU83T2JCZ0FFUVcKYzdBdkhyNXdqSCtyNWRnSmN6eVlmU3YyZjV1bkg3a0NRUUNOV2R4QnhjVTVEaWk2T3czWnpJeFV4MllJbDJ2VgpjR0JnOG9mcFNvU3luYlZZQTNIb3d3UW1RRVhwOXF2bGYwL0xENklVa2ZHb2ZDTWptSzZJNW1raEFrRUFrUml1CndKcmtqSW5uNUN0YXo0cHI1RkExa2ZnVHB3NEdwZXFjS1E2cW4xM05sQ2psU2k5NHBFUkhQajVmNXlmUXF3YnMKelA5SlVHY3kzaUFka1NJcUNRSkFZc29JUHZZZStjMUZlbkdtWjZFZDl0VjM5QzFNRjhOWGQ5dnFYWmJLazdvZwp2OGZtaGtnRVlVc0ZnbW13NzZiRllOMFNQVkVlbk1INUh1MEQwcnZKUFE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo="
              }
            },
            "host_name": "vm1"
          }
        },
        "kubernetes": {
          "requirements": [
            {
              "host": {
                "capability": "tosca.capabilities.QC.VM.topology",
                "node": "topology",
                "relationship": "tosca.relationships.HostedOn"
              }
            }
          ],
          "interfaces": {
            "Kubernetes": {
              "configure": {
                "inputs": {
                  "playbook": "https://raw.githubusercontent.com/skoulouzis/CONF/develop/ansible_playbooks/dashboard.yaml"
                }
              },
              "create": {
                "inputs": {
                  "playbook": "https://raw.githubusercontent.com/skoulouzis/CONF/develop/ansible_playbooks/create_k8s.yml"
                }
              },
              "install": {
                "inputs": {
                  "playbook": "https://raw.githubusercontent.com/skoulouzis/CONF/develop/ansible_playbooks/install_k8s.yml"
                }
              }
            }
          },
          "type": "tosca.nodes.QC.docker.Orchestrator.Kubernetes"
        },
        "topology": {
          "properties": {
            "domain": "Frankfurt",
            "provider": "EC2"
          },
          "requirements": [
            {
              "vm": {
                "capability": "tosca.capabilities.QC.VM",
                "node": "compute",
                "relationship": "tosca.relationships.DependsOn"
              }
            },
            {
              "vm": {
                "capability": "tosca.capabilities.QC.VM",
                "node": "compute_1",
                "relationship": "tosca.relationships.DependsOn"
              }
            }
          ],
          "interfaces": {
            "CloudsStorm": {
              "delete": {
                "inputs": {
                  "code_type": "SEQ",
                  "object_type": "SubTopology"
                }
              },
              "hscale": {
                "inputs": {
                  "code_type": "SEQ",
                  "object_type": "SubTopology"
                }
              },
              "provision": {
                "inputs": {
                  "code_type": "SEQ",
                  "object_type": "SubTopology"
                }
              },
              "start": {
                "inputs": {
                  "code_type": "SEQ",
                  "object_type": "SubTopology"
                }
              },
              "stop": {
                "inputs": {
                  "code_type": "SEQ",
                  "object_type": "SubTopology"
                }
              }
            }
          },
          "type": "tosca.nodes.QC.VM.topology",
          "attributes": {
            "credential": {
              "cloud_provider_name": "EC2",
              "keys": {
                "aws_access_key_id": "XXXXXXXXXXXXX"
              },
              "token": "XXXXXXXXXXXXXXXXXXXx",
              "token_type": "access_key"
            },
            "desired_state": "RUNNING",
            "current_state": "RUNNING"
          }
        },
        "ws-pema": {
          "properties": {
            "ports": [
              "30001:8080"
            ]
          },
          "requirements": [
            {
              "host": {
                "capability": "tosca.capabilities.QC.docker.Orchestrator",
                "node": "kubernetes",
                "relationship": "tosca.relationships.HostedOn"
              }
            }
          ],
          "type": "tosca.nodes.QC.Container.Application.Docker",
          "artifacts": {
            "image": {
              "file": "alogo53/ws-pema-lifewatch",
              "repository": "docker_hub",
              "type": "tosca.artifacts.Deployment.Image.Container.Docker"
            }
          }
        }
      }
    },
    "description": "TOSCA example",
    "imports": [
      {
        "nodes": "https://raw.githubusercontent.com/skoulouzis/DRIP/develop/TOSCA/types/nodes.yaml"
      },
      {
        "data": "https://raw.githubusercontent.com/skoulouzis/CONF/develop/TOSCA/types/data.yml"
      },
      {
        "capabilities": "https://raw.githubusercontent.com/skoulouzis/DRIP/develop/TOSCA/types/capabilities.yaml"
      },
      {
        "policies": "https://raw.githubusercontent.com/skoulouzis/DRIP/develop/TOSCA/types/policies.yaml"
      },
      {
        "interfaces": "https://raw.githubusercontent.com/skoulouzis/DRIP/develop/TOSCA/types/interfaces.yml"
      }
    ]
  }
}
